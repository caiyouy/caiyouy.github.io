<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Caiyou Yuan&#39;s Pages</title>
<meta name="keywords" content="">
<meta name="description" content="计算概论（C语言）习题课讲义08 内容概要 习题讲解
数组进阶
课堂练习: 排序初步
习题讲解 输出所有字符数不超过10的行 代码点评一:
读入一行 =&gt;如何判断读入一行?
进行判断
少十输出 =&gt;输出时, 结果如何存储?
否则跳过
#include &lt;stdio.h&gt; int main() { char Line[1000]; char c; int count=0; while((c=getchar())!=EOF) { Line[count&#43;&#43;]=c; if(c==&#39;\n&#39;) //读入一行 { //进行判断 if(count&lt;=10) //输出 { for(int i=0;i&lt;count;i&#43;&#43;) { putchar(Line[i]); } } else //跳过 { } count=0; } } return 0; } 代码点评二:
#include &lt;stdio.h&gt; #include &lt;string.h&gt; // string.h? int main(){ int i=0,c,k; int line[10]; while((c=getchar())!=EOF) { if(i==10) { i=0; while(getchar()!">
<meta name="author" content="Me">
<link rel="canonical" href="https://caiyouy.github.io/c_programming/08/8/">
<meta name="google-site-verification" content="XYZabc">
<meta name="yandex-verification" content="XYZabc">
<meta name="msvalidate.01" content="XYZabc">
<link crossorigin="anonymous" href="/assets/css/stylesheet.b609c58d5c11bb90b1a54e04005d74ad1ddf22165eb79f5533967e57df9c3b50.css" integrity="sha256-tgnFjVwRu5CxpU4EAF10rR3fIhZet59VM5Z&#43;V9&#43;cO1A=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://caiyouy.github.io/%3Clink%20/%20abs%20url%3E">
<link rel="icon" type="image/png" sizes="16x16" href="https://caiyouy.github.io/%3Clink%20/%20abs%20url%3E">
<link rel="icon" type="image/png" sizes="32x32" href="https://caiyouy.github.io/%3Clink%20/%20abs%20url%3E">
<link rel="apple-touch-icon" href="https://caiyouy.github.io/%3Clink%20/%20abs%20url%3E">
<link rel="mask-icon" href="https://caiyouy.github.io/%3Clink%20/%20abs%20url%3E">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://caiyouy.github.io/c_programming/08/8/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
  

<meta property="og:title" content="" />
<meta property="og:description" content="计算概论（C语言）习题课讲义08 内容概要 习题讲解
数组进阶
课堂练习: 排序初步
习题讲解 输出所有字符数不超过10的行 代码点评一:
读入一行 =&gt;如何判断读入一行?
进行判断
少十输出 =&gt;输出时, 结果如何存储?
否则跳过
#include &lt;stdio.h&gt; int main() { char Line[1000]; char c; int count=0; while((c=getchar())!=EOF) { Line[count&#43;&#43;]=c; if(c==&#39;\n&#39;) //读入一行 { //进行判断 if(count&lt;=10) //输出 { for(int i=0;i&lt;count;i&#43;&#43;) { putchar(Line[i]); } } else //跳过 { } count=0; } } return 0; } 代码点评二:
#include &lt;stdio.h&gt; #include &lt;string.h&gt; // string.h? int main(){ int i=0,c,k; int line[10]; while((c=getchar())!=EOF) { if(i==10) { i=0; while(getchar()!" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://caiyouy.github.io/c_programming/08/8/" />
<meta property="og:image" content="https://caiyouy.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E" />
<meta property="article:section" content="c_programming" />

<meta property="og:site_name" content="Caiyou Yuan&#39;s Pages" />

<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://caiyouy.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E" />
<meta name="twitter:title" content=""/>
<meta name="twitter:description" content="计算概论（C语言）习题课讲义08 内容概要 习题讲解
数组进阶
课堂练习: 排序初步
习题讲解 输出所有字符数不超过10的行 代码点评一:
读入一行 =&gt;如何判断读入一行?
进行判断
少十输出 =&gt;输出时, 结果如何存储?
否则跳过
#include &lt;stdio.h&gt; int main() { char Line[1000]; char c; int count=0; while((c=getchar())!=EOF) { Line[count&#43;&#43;]=c; if(c==&#39;\n&#39;) //读入一行 { //进行判断 if(count&lt;=10) //输出 { for(int i=0;i&lt;count;i&#43;&#43;) { putchar(Line[i]); } } else //跳过 { } count=0; } } return 0; } 代码点评二:
#include &lt;stdio.h&gt; #include &lt;string.h&gt; // string.h? int main(){ int i=0,c,k; int line[10]; while((c=getchar())!=EOF) { if(i==10) { i=0; while(getchar()!"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "C_Programmings",
      "item": "https://caiyouy.github.io/c_programming/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "",
      "item": "https://caiyouy.github.io/c_programming/08/8/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "",
  "name": "",
  "description": "计算概论（C语言）习题课讲义08 内容概要 习题讲解\n数组进阶\n课堂练习: 排序初步\n习题讲解 输出所有字符数不超过10的行 代码点评一:\n读入一行 =\u0026gt;如何判断读入一行?\n进行判断\n少十输出 =\u0026gt;输出时, 结果如何存储?\n否则跳过\n#include \u0026lt;stdio.h\u0026gt; int main() { char Line[1000]; char c; int count=0; while((c=getchar())!=EOF) { Line[count++]=c; if(c==\u0026#39;\\n\u0026#39;) //读入一行 { //进行判断 if(count\u0026lt;=10) //输出 { for(int i=0;i\u0026lt;count;i++) { putchar(Line[i]); } } else //跳过 { } count=0; } } return 0; } 代码点评二:\n#include \u0026lt;stdio.h\u0026gt; #include \u0026lt;string.h\u0026gt; // string.h? int main(){ int i=0,c,k; int line[10]; while((c=getchar())!=EOF) { if(i==10) { i=0; while(getchar()!",
  "keywords": [
    
  ],
  "articleBody": "计算概论（C语言）习题课讲义08 内容概要 习题讲解\n数组进阶\n课堂练习: 排序初步\n习题讲解 输出所有字符数不超过10的行 代码点评一:\n读入一行 =\u003e如何判断读入一行?\n进行判断\n少十输出 =\u003e输出时, 结果如何存储?\n否则跳过\n#include int main() { char Line[1000]; char c; int count=0; while((c=getchar())!=EOF) { Line[count++]=c; if(c=='\\n') //读入一行 { //进行判断 if(count\u003c=10) //输出 { for(int i=0;i\u003ccount;i++) { putchar(Line[i]); } } else //跳过 { } count=0; } } return 0; } 代码点评二:\n#include #include // string.h? int main(){ int i=0,c,k; int line[10]; while((c=getchar())!=EOF) { if(i==10) { i=0; while(getchar()!='\\n') ; // what for? continue; // continue? } else if(c=='\\n') { for(k=0;k\u003ci;++k) putchar(line[k]); printf(\"\\n\"); i=0; continue; } else { line[i]=c; ++i; } } return 0; } 牛顿迭代及二分法 代码点评一:\n#include #include #define e0 1e-13 double f(double x); double f_(double x); void Newton(double x0){ static int step=0; // static 的作用? if(fabs(x0*exp(x0)-1) \u003c e0) printf(\"Newton method, root: %f ,iterations: %d\\n\",x0,step); else{ x0=x0-f(x0)/f_(x0); step++; Newton(x0); } } void Bisec(double a,double b){ static int step=0; double c; if(fabs(b*exp(b)-1) \u003c e0) printf(\"Bisection method, root: %f ,iterations: %d\",b,step); else { c=(a+b)*0.5; step++; if(f(c)*f(a)\u003c0) Bisec(a,c); else Bisec(c,b); } } double f(double x0){ return x0*exp(x0)-1; } double f_(double x){ return (x+1.)*exp(x); } int main(){ Newton(0.5); Bisec(0.5,0.6); return 0; } 丑数判断 int isUgly(int x) { // Recursion exit if(x==1) { return 1; } // Recursion if(x%2==0) { return isUgly(x/2); } if(x%3==0) { return isUgly(x/3); } if(x%5==0) { return isUgly(x/5); } // Have other factors return 0; } 典型错误:\n递归调用缺少return\nx==1误写为x=1\n反转数字 int reverse(int x) { int res=0; while(x!=0) { int tmp=x%10; x=x/10; res=res*10+tmp; } return res; } 计算天数 闰年的计算: 四年一闰, 百年不闰, 四百年再闰.\nJulian canlender and Gregorian canlender\nhttps://www.timeanddate.com/calendar/julian-gregorian-switch.html\nhttps://baike.baidu.com/item/%E5%84%92%E7%95%A5%E5%8E%86/3052736\n// Julian canlender vs Gregorian canlender int isLeapYear(int year) { if((year%4==0)\u0026\u0026(year%100!=0)) { return 1; } if(year%400==0) { return 1; } return 0; } 计算天数:\nint days(int year, int month, int day) { int res=day; month--; switch(month) { case 11: res+=30; case 10: res+=31; case 9: res+=30; case 8: res+=31; case 7: res+=31; case 6: res+=30; case 5: res+=31; case 4: res+=30; case 3: res+=31; case 2: res+=28; case 1: res+=31; } if(isLeapYear(year)\u0026\u0026month\u003e=2) { res++; } return res; } 检查输入:\nint valid(int year, int month, int day) { // test year if(year\u003c=0) return 0; //Not exactly accurate. // test month if(month\u003c=0||month\u003e=13) return 0; // test day if(day\u003c=0) return 0; if(month== 1\u0026\u0026day\u003e31) return 0; if(isLeapYear(year)==0\u0026\u0026month== 2\u0026\u0026day\u003e28) return 0; if(isLeapYear(year)==1\u0026\u0026month== 2\u0026\u0026day\u003e29) return 0; if(month== 3\u0026\u0026day\u003e31) return 0; if(month== 4\u0026\u0026day\u003e30) return 0; if(month== 5\u0026\u0026day\u003e31) return 0; if(month== 6\u0026\u0026day\u003e30) return 0; if(month== 7\u0026\u0026day\u003e31) return 0; if(month== 8\u0026\u0026day\u003e31) return 0; if(month== 9\u0026\u0026day\u003e30) return 0; if(month==10\u0026\u0026day\u003e31) return 0; if(month==11\u0026\u0026day\u003e30) return 0; if(month==12\u0026\u0026day\u003e31) return 0; return 1; } 输入:\nwhile(1) { if(scanf(\"%d %d %d\",\u0026year,\u0026month,\u0026day)==3) { if(valid(year,month,day)==1) { break; // Input OK. } else { printf(\"%d.%d.%d is invalid!\\n\",year,monthday); } } else { while(getchar()!='\\n') //Eat invalid input { } printf(\"Please Input Three Integers!!!\\n\"); } } 数组进阶 多维数组 // 二维数组定义 int a[3][4]; // 二维数组的初始化 int a[3][4] = { {0, 1, 2, 3} , /* 初始化索引号为 0 的行 */ {4, 5, 6, 7} , /* 初始化索引号为 1 的行 */ {8, 9, 10, 11} /* 初始化索引号为 2 的行 */ }; //内部嵌套的括号是可选的，下面的初始化与上面是等同的： int a[3][4] = {0,1,2,3,4,5,6,7,8,9,10,11}; // 这实际上反映了二维数组,在内存上的线性结构. // 二维数组变量的使用 int val = a[2][3]; 演示: 二维数组的线性结构 数组做为函数参数 //rev函数,将数组元素颠倒 void rev(int n, int a[]) { ... } 注意,以数组为参数的函数可以改变实参数组的元素值(这本质上是一种地址传递).\n而多维数组做为函数的参数时, 除了最左处的维度的长度,其他都需要给定(具体原因和多维数组的线性结构相关).\ndouble aaverage(int n, double a[][5]) { ... } 数组做为函数的返回值 C语言不允许返回一个完整的数组作为函数的返回值。 但是，可以通过数组名来返回一个指向数组的指针。\n课堂练习 今天先介绍前四种.\n选择排序 主要想法: 选择适当的元素交换到适当位置.\n过程演示:\n冒泡排序 主要想法: 让大的元素\"冒\"出来.\n过程演示:\n插入排序 主要想法:\n过程演示:\n希尔排序 主要想法: 对子列使用插入排序.\n过程演示:\n参考链接:\n[1] https://www.toptal.com/developers/sorting-algorithms\n[2] https://www.jianshu.com/p/a1e97094f61b\n",
  "wordCount" : "551",
  "inLanguage": "en",
  "image": "https://caiyouy.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E","datePublished": "0001-01-01T00:00:00Z",
  "dateModified": "0001-01-01T00:00:00Z",
  "author":{
    "@type": "Person",
    "name": "Me"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://caiyouy.github.io/c_programming/08/8/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Caiyou Yuan's Pages",
    "logo": {
      "@type": "ImageObject",
      "url": "https://caiyouy.github.io/%3Clink%20/%20abs%20url%3E"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://caiyouy.github.io/" accesskey="h" title="Caiyou Yuan&#39;s Pages (Alt + H)">
                <img src="https://caiyouy.github.io/yuan.jpg" alt="" aria-label="logo"
                    height="35">Caiyou Yuan&#39;s Pages</a>
            <div class="logo-switches">
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://caiyouy.github.io/posts/" title="Posts">
                    <span>Posts</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://caiyouy.github.io/">Home</a>&nbsp;»&nbsp;<a href="https://caiyouy.github.io/c_programming/">C_Programmings</a></div>
    <h1 class="post-title entry-hint-parent">
      
    </h1>
    <div class="post-meta">Me&nbsp;|&nbsp;<a href="https://github.com/caiyouy.github.io/content/C_Programming/08/8.md" rel="noopener noreferrer" target="_blank">Suggest Changes</a>

</div>
  </header> 
  <div class="post-content"><h1 id="计算概论c语言习题课讲义08">计算概论（C语言）习题课讲义08<a hidden class="anchor" aria-hidden="true" href="#计算概论c语言习题课讲义08">#</a></h1>
<h2 id="内容概要">内容概要<a hidden class="anchor" aria-hidden="true" href="#内容概要">#</a></h2>
<ul>
<li>
<p>习题讲解</p>
</li>
<li>
<p>数组进阶</p>
</li>
<li>
<p>课堂练习: 排序初步</p>
</li>
</ul>
<h3 id="习题讲解">习题讲解<a hidden class="anchor" aria-hidden="true" href="#习题讲解">#</a></h3>
<h4 id="输出所有字符数不超过10的行">输出所有字符数不超过10的行<a hidden class="anchor" aria-hidden="true" href="#输出所有字符数不超过10的行">#</a></h4>
<p>代码点评一:</p>
<ol>
<li>
<p>读入一行 =&gt;如何判断读入一行?</p>
</li>
<li>
<p>进行判断</p>
</li>
<li>
<p>少十输出 =&gt;输出时, 结果如何存储?</p>
</li>
<li>
<p>否则跳过</p>
</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">char</span> <span class="n">Line</span><span class="p">[</span><span class="mi">1000</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="kt">char</span> <span class="n">c</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">count</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">while</span><span class="p">((</span><span class="n">c</span><span class="o">=</span><span class="nf">getchar</span><span class="p">())</span><span class="o">!=</span><span class="n">EOF</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">Line</span><span class="p">[</span><span class="n">count</span><span class="o">++</span><span class="p">]</span><span class="o">=</span><span class="n">c</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span><span class="p">(</span><span class="n">c</span><span class="o">==</span><span class="sc">&#39;\n&#39;</span><span class="p">)</span>  <span class="c1">//读入一行
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="c1">//进行判断
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="k">if</span><span class="p">(</span><span class="n">count</span><span class="o">&lt;=</span><span class="mi">10</span><span class="p">)</span> <span class="c1">//输出
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">count</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                <span class="p">{</span>
</span></span><span class="line"><span class="cl">                    <span class="nf">putchar</span><span class="p">(</span><span class="n">Line</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="k">else</span> <span class="c1">//跳过
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="n">count</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>代码点评二:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;string.h&gt;                   // string.h?</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span><span class="kt">int</span> <span class="nf">main</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">k</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">line</span><span class="p">[</span><span class="mi">10</span><span class="p">];</span>
</span></span><span class="line"><span class="cl"><span class="k">while</span><span class="p">((</span><span class="n">c</span><span class="o">=</span><span class="nf">getchar</span><span class="p">())</span><span class="o">!=</span><span class="n">EOF</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span><span class="p">(</span><span class="n">i</span><span class="o">==</span><span class="mi">10</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">while</span><span class="p">(</span><span class="nf">getchar</span><span class="p">()</span><span class="o">!=</span><span class="sc">&#39;\n&#39;</span><span class="p">)</span> <span class="p">;</span>     <span class="c1">// what for?
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">continue</span><span class="p">;</span>                    <span class="c1">// continue?
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="n">c</span><span class="o">==</span><span class="sc">&#39;\n&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">       <span class="k">for</span><span class="p">(</span><span class="n">k</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">k</span><span class="o">&lt;</span><span class="n">i</span><span class="p">;</span><span class="o">++</span><span class="n">k</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">       <span class="nf">putchar</span><span class="p">(</span><span class="n">line</span><span class="p">[</span><span class="n">k</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">       <span class="nf">printf</span><span class="p">(</span><span class="s">&#34;</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">       <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">       <span class="k">continue</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">else</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">           <span class="n">line</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">=</span><span class="n">c</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">           <span class="o">++</span><span class="n">i</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h4 id="牛顿迭代及二分法">牛顿迭代及二分法<a hidden class="anchor" aria-hidden="true" href="#牛顿迭代及二分法">#</a></h4>
<p>代码点评一:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;math.h&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp">#define e0 1e-13
</span></span></span><span class="line"><span class="cl"><span class="cp"></span><span class="kt">double</span> <span class="nf">f</span><span class="p">(</span><span class="kt">double</span> <span class="n">x</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="kt">double</span> <span class="nf">f_</span><span class="p">(</span><span class="kt">double</span> <span class="n">x</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">Newton</span><span class="p">(</span><span class="kt">double</span> <span class="n">x0</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">    <span class="k">static</span> <span class="kt">int</span> <span class="n">step</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>                 <span class="c1">// static 的作用?
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">if</span><span class="p">(</span><span class="nf">fabs</span><span class="p">(</span><span class="n">x0</span><span class="o">*</span><span class="nf">exp</span><span class="p">(</span><span class="n">x0</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">e0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="nf">printf</span><span class="p">(</span><span class="s">&#34;Newton method, root: %f ,iterations: %d</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span><span class="n">x0</span><span class="p">,</span><span class="n">step</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="k">else</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">x0</span><span class="o">=</span><span class="n">x0</span><span class="o">-</span><span class="nf">f</span><span class="p">(</span><span class="n">x0</span><span class="p">)</span><span class="o">/</span><span class="nf">f_</span><span class="p">(</span><span class="n">x0</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="n">step</span><span class="o">++</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="nf">Newton</span><span class="p">(</span><span class="n">x0</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">Bisec</span><span class="p">(</span><span class="kt">double</span> <span class="n">a</span><span class="p">,</span><span class="kt">double</span> <span class="n">b</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">    <span class="k">static</span> <span class="kt">int</span> <span class="n">step</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kt">double</span> <span class="n">c</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span><span class="p">(</span><span class="nf">fabs</span><span class="p">(</span><span class="n">b</span><span class="o">*</span><span class="nf">exp</span><span class="p">(</span><span class="n">b</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">e0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="nf">printf</span><span class="p">(</span><span class="s">&#34;Bisection method, root: %f ,iterations: %d&#34;</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">step</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">c</span><span class="o">=</span><span class="p">(</span><span class="n">a</span><span class="o">+</span><span class="n">b</span><span class="p">)</span><span class="o">*</span><span class="mf">0.5</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">step</span><span class="o">++</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span><span class="p">(</span><span class="nf">f</span><span class="p">(</span><span class="n">c</span><span class="p">)</span><span class="o">*</span><span class="nf">f</span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="nf">Bisec</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">c</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="k">else</span>
</span></span><span class="line"><span class="cl">            <span class="nf">Bisec</span><span class="p">(</span><span class="n">c</span><span class="p">,</span><span class="n">b</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">double</span> <span class="nf">f</span><span class="p">(</span><span class="kt">double</span> <span class="n">x0</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">x0</span><span class="o">*</span><span class="nf">exp</span><span class="p">(</span><span class="n">x0</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kt">double</span> <span class="nf">f_</span><span class="p">(</span><span class="kt">double</span> <span class="n">x</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="mf">1.</span><span class="p">)</span><span class="o">*</span><span class="nf">exp</span><span class="p">(</span><span class="n">x</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">main</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">    <span class="nf">Newton</span><span class="p">(</span><span class="mf">0.5</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="nf">Bisec</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">0.6</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h4 id="丑数判断">丑数判断<a hidden class="anchor" aria-hidden="true" href="#丑数判断">#</a></h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">isUgly</span><span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Recursion exit
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">if</span><span class="p">(</span><span class="n">x</span><span class="o">==</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Recursion
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">if</span><span class="p">(</span><span class="n">x</span><span class="o">%</span><span class="mi">2</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="nf">isUgly</span><span class="p">(</span><span class="n">x</span><span class="o">/</span><span class="mi">2</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span><span class="p">(</span><span class="n">x</span><span class="o">%</span><span class="mi">3</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="nf">isUgly</span><span class="p">(</span><span class="n">x</span><span class="o">/</span><span class="mi">3</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span><span class="p">(</span><span class="n">x</span><span class="o">%</span><span class="mi">5</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="nf">isUgly</span><span class="p">(</span><span class="n">x</span><span class="o">/</span><span class="mi">5</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Have other factors
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>典型错误:</p>
<ol>
<li>
<p>递归调用缺少return</p>
</li>
<li>
<p><code>x==1</code>误写为<code>x=1</code></p>
</li>
</ol>
<h4 id="反转数字">反转数字<a hidden class="anchor" aria-hidden="true" href="#反转数字">#</a></h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">reverse</span><span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kt">int</span> <span class="n">res</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">while</span><span class="p">(</span><span class="n">x</span><span class="o">!=</span><span class="mi">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="kt">int</span> <span class="n">tmp</span><span class="o">=</span><span class="n">x</span><span class="o">%</span><span class="mi">10</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="o">/</span><span class="mi">10</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="n">res</span><span class="o">=</span><span class="n">res</span><span class="o">*</span><span class="mi">10</span><span class="o">+</span><span class="n">tmp</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">res</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h4 id="计算天数">计算天数<a hidden class="anchor" aria-hidden="true" href="#计算天数">#</a></h4>
<p>闰年的计算: 四年一闰, 百年不闰, 四百年再闰.</p>
<blockquote>
<p>Julian canlender and Gregorian canlender</p>
<p><a href="https://www.timeanddate.com/calendar/julian-gregorian-switch.html">https://www.timeanddate.com/calendar/julian-gregorian-switch.html</a></p>
<p><a href="https://baike.baidu.com/item/%E5%84%92%E7%95%A5%E5%8E%86/3052736">https://baike.baidu.com/item/%E5%84%92%E7%95%A5%E5%8E%86/3052736</a></p>
</blockquote>
<p><img loading="lazy" src="./pic/calendar.jpg" alt="canlendar"  />
</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="c1">// Julian canlender vs Gregorian canlender
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kt">int</span> <span class="nf">isLeapYear</span><span class="p">(</span><span class="kt">int</span> <span class="n">year</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span><span class="p">((</span><span class="n">year</span><span class="o">%</span><span class="mi">4</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="n">year</span><span class="o">%</span><span class="mi">100</span><span class="o">!=</span><span class="mi">0</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span><span class="p">(</span><span class="n">year</span><span class="o">%</span><span class="mi">400</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>计算天数:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">days</span><span class="p">(</span><span class="kt">int</span> <span class="n">year</span><span class="p">,</span> <span class="kt">int</span> <span class="n">month</span><span class="p">,</span> <span class="kt">int</span> <span class="n">day</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">res</span><span class="o">=</span><span class="n">day</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">month</span><span class="o">--</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">switch</span><span class="p">(</span><span class="n">month</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">case</span> <span class="mi">11</span><span class="o">:</span> <span class="n">res</span><span class="o">+=</span><span class="mi">30</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">case</span> <span class="mi">10</span><span class="o">:</span> <span class="n">res</span><span class="o">+=</span><span class="mi">31</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">case</span>  <span class="mi">9</span><span class="o">:</span> <span class="n">res</span><span class="o">+=</span><span class="mi">30</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">case</span>  <span class="mi">8</span><span class="o">:</span> <span class="n">res</span><span class="o">+=</span><span class="mi">31</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">case</span>  <span class="mi">7</span><span class="o">:</span> <span class="n">res</span><span class="o">+=</span><span class="mi">31</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">case</span>  <span class="mi">6</span><span class="o">:</span> <span class="n">res</span><span class="o">+=</span><span class="mi">30</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">case</span>  <span class="mi">5</span><span class="o">:</span> <span class="n">res</span><span class="o">+=</span><span class="mi">31</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">case</span>  <span class="mi">4</span><span class="o">:</span> <span class="n">res</span><span class="o">+=</span><span class="mi">30</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">case</span>  <span class="mi">3</span><span class="o">:</span> <span class="n">res</span><span class="o">+=</span><span class="mi">31</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">case</span>  <span class="mi">2</span><span class="o">:</span> <span class="n">res</span><span class="o">+=</span><span class="mi">28</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">case</span>  <span class="mi">1</span><span class="o">:</span> <span class="n">res</span><span class="o">+=</span><span class="mi">31</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span><span class="p">(</span><span class="nf">isLeapYear</span><span class="p">(</span><span class="n">year</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="n">month</span><span class="o">&gt;=</span><span class="mi">2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">res</span><span class="o">++</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">res</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>检查输入:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">valid</span><span class="p">(</span><span class="kt">int</span> <span class="n">year</span><span class="p">,</span> <span class="kt">int</span> <span class="n">month</span><span class="p">,</span> <span class="kt">int</span> <span class="n">day</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// test year
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">if</span><span class="p">(</span><span class="n">year</span><span class="o">&lt;=</span><span class="mi">0</span><span class="p">)</span> <span class="k">return</span> <span class="mi">0</span><span class="p">;</span> <span class="c1">//Not exactly accurate.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// test month
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">if</span><span class="p">(</span><span class="n">month</span><span class="o">&lt;=</span><span class="mi">0</span><span class="o">||</span><span class="n">month</span><span class="o">&gt;=</span><span class="mi">13</span><span class="p">)</span> <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// test day
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">if</span><span class="p">(</span><span class="n">day</span><span class="o">&lt;=</span><span class="mi">0</span><span class="p">)</span> <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span><span class="p">(</span><span class="n">month</span><span class="o">==</span> <span class="mi">1</span><span class="o">&amp;&amp;</span><span class="n">day</span><span class="o">&gt;</span><span class="mi">31</span><span class="p">)</span> <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span><span class="p">(</span><span class="nf">isLeapYear</span><span class="p">(</span><span class="n">year</span><span class="p">)</span><span class="o">==</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="n">month</span><span class="o">==</span> <span class="mi">2</span><span class="o">&amp;&amp;</span><span class="n">day</span><span class="o">&gt;</span><span class="mi">28</span><span class="p">)</span> <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span><span class="p">(</span><span class="nf">isLeapYear</span><span class="p">(</span><span class="n">year</span><span class="p">)</span><span class="o">==</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="n">month</span><span class="o">==</span> <span class="mi">2</span><span class="o">&amp;&amp;</span><span class="n">day</span><span class="o">&gt;</span><span class="mi">29</span><span class="p">)</span> <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span><span class="p">(</span><span class="n">month</span><span class="o">==</span> <span class="mi">3</span><span class="o">&amp;&amp;</span><span class="n">day</span><span class="o">&gt;</span><span class="mi">31</span><span class="p">)</span> <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span><span class="p">(</span><span class="n">month</span><span class="o">==</span> <span class="mi">4</span><span class="o">&amp;&amp;</span><span class="n">day</span><span class="o">&gt;</span><span class="mi">30</span><span class="p">)</span> <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span><span class="p">(</span><span class="n">month</span><span class="o">==</span> <span class="mi">5</span><span class="o">&amp;&amp;</span><span class="n">day</span><span class="o">&gt;</span><span class="mi">31</span><span class="p">)</span> <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span><span class="p">(</span><span class="n">month</span><span class="o">==</span> <span class="mi">6</span><span class="o">&amp;&amp;</span><span class="n">day</span><span class="o">&gt;</span><span class="mi">30</span><span class="p">)</span> <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span><span class="p">(</span><span class="n">month</span><span class="o">==</span> <span class="mi">7</span><span class="o">&amp;&amp;</span><span class="n">day</span><span class="o">&gt;</span><span class="mi">31</span><span class="p">)</span> <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span><span class="p">(</span><span class="n">month</span><span class="o">==</span> <span class="mi">8</span><span class="o">&amp;&amp;</span><span class="n">day</span><span class="o">&gt;</span><span class="mi">31</span><span class="p">)</span> <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span><span class="p">(</span><span class="n">month</span><span class="o">==</span> <span class="mi">9</span><span class="o">&amp;&amp;</span><span class="n">day</span><span class="o">&gt;</span><span class="mi">30</span><span class="p">)</span> <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span><span class="p">(</span><span class="n">month</span><span class="o">==</span><span class="mi">10</span><span class="o">&amp;&amp;</span><span class="n">day</span><span class="o">&gt;</span><span class="mi">31</span><span class="p">)</span> <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span><span class="p">(</span><span class="n">month</span><span class="o">==</span><span class="mi">11</span><span class="o">&amp;&amp;</span><span class="n">day</span><span class="o">&gt;</span><span class="mi">30</span><span class="p">)</span> <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span><span class="p">(</span><span class="n">month</span><span class="o">==</span><span class="mi">12</span><span class="o">&amp;&amp;</span><span class="n">day</span><span class="o">&gt;</span><span class="mi">31</span><span class="p">)</span> <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>输入:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="k">while</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span><span class="p">(</span><span class="nf">scanf</span><span class="p">(</span><span class="s">&#34;%d %d %d&#34;</span><span class="p">,</span><span class="o">&amp;</span><span class="n">year</span><span class="p">,</span><span class="o">&amp;</span><span class="n">month</span><span class="p">,</span><span class="o">&amp;</span><span class="n">day</span><span class="p">)</span><span class="o">==</span><span class="mi">3</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span><span class="p">(</span><span class="nf">valid</span><span class="p">(</span><span class="n">year</span><span class="p">,</span><span class="n">month</span><span class="p">,</span><span class="n">day</span><span class="p">)</span><span class="o">==</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">break</span><span class="p">;</span> <span class="c1">// Input OK.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="k">else</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nf">printf</span><span class="p">(</span><span class="s">&#34;%d.%d.%d is invalid!</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span><span class="n">year</span><span class="p">,</span><span class="n">monthday</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">else</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">while</span><span class="p">(</span><span class="nf">getchar</span><span class="p">()</span><span class="o">!=</span><span class="sc">&#39;\n&#39;</span><span class="p">)</span> <span class="c1">//Eat invalid input
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="nf">printf</span><span class="p">(</span><span class="s">&#34;Please Input Three Integers!!!</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h3 id="数组进阶">数组进阶<a hidden class="anchor" aria-hidden="true" href="#数组进阶">#</a></h3>
<h4 id="多维数组">多维数组<a hidden class="anchor" aria-hidden="true" href="#多维数组">#</a></h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="c1">// 二维数组定义
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kt">int</span> <span class="n">a</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">4</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// 二维数组的初始化
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kt">int</span> <span class="n">a</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl"> <span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">}</span> <span class="p">,</span>   <span class="cm">/*  初始化索引号为 0 的行 */</span>
</span></span><span class="line"><span class="cl"> <span class="p">{</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">}</span> <span class="p">,</span>   <span class="cm">/*  初始化索引号为 1 的行 */</span>
</span></span><span class="line"><span class="cl"> <span class="p">{</span><span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">}</span>   <span class="cm">/*  初始化索引号为 2 的行 */</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//内部嵌套的括号是可选的，下面的初始化与上面是等同的：
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kt">int</span> <span class="n">a</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">11</span><span class="p">};</span>
</span></span><span class="line"><span class="cl"><span class="c1">// 这实际上反映了二维数组,在内存上的线性结构.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="c1">// 二维数组变量的使用
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kt">int</span> <span class="n">val</span> <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">3</span><span class="p">];</span>
</span></span></code></pre></div><h5 id="演示-二维数组的线性结构">演示: 二维数组的线性结构<a hidden class="anchor" aria-hidden="true" href="#演示-二维数组的线性结构">#</a></h5>
<h4 id="数组做为函数参数">数组做为函数参数<a hidden class="anchor" aria-hidden="true" href="#数组做为函数参数">#</a></h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="c1">//rev函数,将数组元素颠倒
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kt">void</span> <span class="nf">rev</span><span class="p">(</span><span class="kt">int</span> <span class="n">n</span><span class="p">,</span> <span class="kt">int</span> <span class="n">a</span><span class="p">[])</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="p">...</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>注意,以数组为参数的函数可以改变实参数组的元素值(这本质上是一种地址传递).</p>
<p>而多维数组做为函数的参数时, 除了最左处的维度的长度,其他都需要给定(具体原因和多维数组的线性结构相关).</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">double</span> <span class="nf">aaverage</span><span class="p">(</span><span class="kt">int</span> <span class="n">n</span><span class="p">,</span> <span class="kt">double</span> <span class="n">a</span><span class="p">[][</span><span class="mi">5</span><span class="p">])</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="p">...</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h4 id="数组做为函数的返回值">数组做为函数的返回值<a hidden class="anchor" aria-hidden="true" href="#数组做为函数的返回值">#</a></h4>
<p>C语言不允许返回一个完整的数组作为函数的返回值。
但是，可以通过数组名来返回一个指向数组的指针。</p>
<h3 id="课堂练习">课堂练习<a hidden class="anchor" aria-hidden="true" href="#课堂练习">#</a></h3>
<p><img loading="lazy" src="./pic/in_all.png" alt="sort"  />
</p>
<p>今天先介绍前四种.</p>
<h4 id="选择排序">选择排序<a hidden class="anchor" aria-hidden="true" href="#选择排序">#</a></h4>
<p>主要想法: 选择适当的元素交换到适当位置.</p>
<p>过程演示:</p>
<p><img loading="lazy" src="./pic/select.gif" alt="select"  />
</p>
<h4 id="冒泡排序">冒泡排序<a hidden class="anchor" aria-hidden="true" href="#冒泡排序">#</a></h4>
<p>主要想法: 让大的元素&quot;冒&quot;出来.</p>
<p>过程演示:</p>
<p><img loading="lazy" src="./pic/bubble.gif" alt="bubble"  />
</p>
<h4 id="插入排序">插入排序<a hidden class="anchor" aria-hidden="true" href="#插入排序">#</a></h4>
<p>主要想法:</p>
<p><img loading="lazy" src="./pic/insert.png" alt="insert"  />
</p>
<p>过程演示:</p>
<p><img loading="lazy" src="./pic/insert.gif" alt="insert"  />
</p>
<h4 id="希尔排序">希尔排序<a hidden class="anchor" aria-hidden="true" href="#希尔排序">#</a></h4>
<p>主要想法: 对子列使用插入排序.</p>
<p>过程演示:</p>
<p><img loading="lazy" src="./pic/shell.png" alt="shell"  />
</p>
<p>参考链接:</p>
<p>[1] <a href="https://www.toptal.com/developers/sorting-algorithms">https://www.toptal.com/developers/sorting-algorithms</a></p>
<p>[2] <a href="https://www.jianshu.com/p/a1e97094f61b">https://www.jianshu.com/p/a1e97094f61b</a></p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>

  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2024 <a href="https://caiyouy.github.io/">Caiyou Yuan&#39;s Pages</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
</body>

</html>
