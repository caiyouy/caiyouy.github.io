<!DOCTYPE html>
<html lang="zh-cn">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <script type="application/javascript" src='http://localhost:1313/js/theme-mode.js'></script>
    <link rel="stylesheet" href='http://localhost:1313/css/frameworks.min.css' />
    <link rel="stylesheet" href='http://localhost:1313/css/github.min.css' />
    <link rel="stylesheet" href='http://localhost:1313/css/github-style.css' />
    <link rel="stylesheet" href='http://localhost:1313/css/light.css' />
    <link rel="stylesheet" href='http://localhost:1313/css/dark.css' />
    <link rel="stylesheet" href='http://localhost:1313/css/syntax.css' />
    <title> - Caiyou Yuan&#39;s Pages</title>
    
    <link rel="icon" type="image/x-icon" href='/yuan_cartoon.jpg'>
    
    <meta name="theme-color" content="#1e2327">

    <link rel="stylesheet" href="http://localhost:1313/css/custom.css">
    <script type="text/javascript" src="http://localhost:1313/js/custom.js"></script>

    
    <meta name="description"
  content="计算概论（C语言）习题课讲义11 内容概要 机考题目讲解
文件操作
习题讲解
机考题目讲解 矩形面积 // 想法: 逐个情况判断 #include &lt;stdio.h&gt; int recArea(int ldx, int ldy, int rux, int ruy) { return (rux-ldx)*(ruy-ldy); } int area(int A, int B, int C, int D, int E, int F, int G, int H) { int AREA=recArea(A,B,C,D)&#43;recArea(E,F,G,H); if(A&lt;=E) { if(C&lt;=E) return AREA; if(B&gt;=F) { if(B&gt;=H) return AREA; if(D&lt;H) return AREA-recArea(E,B,C,D); return AREA-recArea(E,B,C,H); } if(D&lt;F) return AREA; if(D&lt;H) return AREA-recArea(E,F,C,D); return AREA-recArea(E,F,C,H); } return area(E,F,G,H,A,B,C,D); } int main() { int A,B,C,D,E,F,G,H; scanf(&#34;%d %d %d %d %d %d %d %d&#34;, &amp;A,&amp;B,&amp;C,&amp;D,&amp;E,&amp;F,&amp;G,&amp;H); printf(&#34;%d&#34;, area(A,B,C,D,E,F,G,H)); return 0; } // 思路:容斥原理;计算重叠区域面积可以分解为两个一维问题 #include &lt;stdio.h&gt; #include &lt;math.h&gt; int main() { int A,B,C,D,E,F,G,H; scanf(&#34;%d %d %d %d %d %d %d %d&#34;,&amp;A,&amp;B,&amp;C,&amp;D,&amp;E,&amp;F,&amp;G,&amp;H); int s1,s2,s3,h,l; s1 = (C - A) * (D - B); s2 = (G - E) * (H - F); h = min(D, H) - max(B, F); l = min(C, G) - max(A, E); if((h &gt; 0)&amp;(l&gt;0)) s3 = h * l; else s3 = 0; printf(&#34;%d&#34;, s1 &#43; s2 - s3); return 0; } int max(int a, int b) { if(a&gt;b) return a; return b; } int min(int a, int b) { if(a&lt;b) return a; return b; } 和最大子序列 // 思路: 暴力枚举 #include&lt;stdio.h&gt; #include&lt;stdlib.h&gt; int add(int *A,int i,int j){ int s=0; for(;i&lt;=j;i&#43;&#43;){ s&#43;=A[i]; } return s; } int maxsum(int *A, int len){ int i,j,sum=0,maxsum=-1000000; for(i=0;i&lt;len;i&#43;&#43;){ for(int j=i;j&lt;len;j&#43;&#43;){ sum=add(A,i,j); if(sum&gt;maxsum)maxsum=sum; } } return maxsum; } int main(){ int n,*A,k; scanf(&#34;%d&#34;,&amp;n); A=(int *)malloc(n*sizeof(int)); for(k=0;k&lt;n;k&#43;&#43;)scanf(&#34;%d&#34;,&amp;A[k]); printf(&#34;%d&#34;,maxsum(A,n)); free(A); return 0; } #include &lt;stdio.h&gt; #include &lt;stdlib.h&gt; const int INF = -2100000000; int maxsum(int * A, int n) { int thissum = 0, maxm = INF; for(int i = 0; i &lt; n; &#43;&#43;i) { thissum &#43;= A[i]; if(thissum &gt; maxm) { maxm = thissum; } if(thissum &lt; 0) //有技巧地断开子序列 { thissum = 0; } } return maxm; } 最小操作数 // 思路:递归 #include &lt;stdio.h&gt; #include &lt;stdlib.h&gt; int Calc(int x,int y) { if(x&gt;=y) { return x-y; } else if(y%2==0) { return Calc(x,y/2)&#43;1; } else if(y%2==1) { return Calc(x,y&#43;1)&#43;1; } } int main() { int x,y; scanf(&#34;%d%d&#34;,&amp;x,&amp;y); printf(&#34;%d&#34;,Calc(x,y)); return 0; } // 思路: 做标记(广度优先搜索) #include &lt;stdio.h&gt; int flag[2000]; int Calc(int x, int y) { if(x&gt;=y) return x-y; //x&lt;y int N=1&#43;y; for(int i=0;i&lt;N;i&#43;&#43;) { flag[i]=-1; } flag[x-1]=0; int n=0; while(flag[y-1]==-1) { for(int i=0;i&lt;N;i&#43;&#43;) { if(flag[i]==n) { if(i-1&gt;=0&amp;&amp;flag[i-1]==-1) flag[i-1]=n&#43;1; if(2*i&#43;1&lt;N&amp;flag[2*i&#43;1]==-1) flag[2*i&#43;1]=n&#43;1; } } n=n&#43;1; } return flag[y-1]; } 二进制补码 //思路: 模拟补码计算过程 #include &lt;stdio.h&gt; int bit[32]={0}; void to_complement(int n, int bits) { int tmp=n; if(n&lt;0) { tmp=-1*tmp; } // Convert to binary for(int i=0;i&lt;bits-1;i&#43;&#43;) { if(tmp%2==1) { bit[i]=1; } tmp=tmp/2; } if(tmp!=0) { printf(&#34;%d is out of the range of representation with %d bits!\n&#34;,n,bits); return; } if(n&lt;0) { // convert for(int i=0;i&lt;bits;i&#43;&#43;) { if(bit[i]==0) bit[i]=1; else bit[i]=0; } // &#43;1 for(int i=0;i&lt;bits;i&#43;&#43;) { if(bit[i]==1) bit[i]=0; else { bit[i]=1; break; } } } // Output for(int i=bits-1;i&gt;=0;i--) printf(&#34;%d&#34;,bit[i]); printf(&#34;\n&#34;); } int main() { int n, bits; scanf(&#34;%d %d&#34;,&amp;n,&amp;bits); to_complement(n,bits); return 0; } 字符串比较 // 思路：递归 #include &lt;stdio.h&gt; #include &lt;string.h&gt; int isMatch(const char *p, const char *s) { int n, m; n=strlen(p); m=strlen(s); if(n==1) { if(*p==&#39;*&#39;) return 1; if(*p==&#39;?&#39;) return m==1?1:0; return m==1&amp;&amp;*p==*s; } if(*p==&#39;*&#39;) { int i; for(i=0;i&lt;m;i&#43;&#43;) { if(isMatch(p&#43;1, s&#43;i)) return 1; } return 0; } if(*p==&#39;?&#39;) return isMatch(p&#43;1, s&#43;1); return *p==*s&amp;&amp;isMatch(p&#43;1, s&#43;1); } 文件读写 Ｃ语言中的文件读写，本质上和对标准输入输出的读和写相同. 文件读写最显著的特征是在于需要 使用文件指针，来具体指明读写的文件．
" />
<meta name="keywords"
  content='' />
<meta name="robots" content="noodp" />
<link rel="canonical" href="http://localhost:1313/c_programming/11/11/" />


<meta name="twitter:card" content="summary" />
<meta name="twitter:title" content=" - Caiyou Yuan&#39;s Pages" />
<meta name="twitter:description"
  content="计算概论（C语言）习题课讲义11 内容概要 机考题目讲解
文件操作
习题讲解
机考题目讲解 矩形面积 // 想法: 逐个情况判断 #include &lt;stdio.h&gt; int recArea(int ldx, int ldy, int rux, int ruy) { return (rux-ldx)*(ruy-ldy); } int area(int A, int B, int C, int D, int E, int F, int G, int H) { int AREA=recArea(A,B,C,D)&#43;recArea(E,F,G,H); if(A&lt;=E) { if(C&lt;=E) return AREA; if(B&gt;=F) { if(B&gt;=H) return AREA; if(D&lt;H) return AREA-recArea(E,B,C,D); return AREA-recArea(E,B,C,H); } if(D&lt;F) return AREA; if(D&lt;H) return AREA-recArea(E,F,C,D); return AREA-recArea(E,F,C,H); } return area(E,F,G,H,A,B,C,D); } int main() { int A,B,C,D,E,F,G,H; scanf(&#34;%d %d %d %d %d %d %d %d&#34;, &amp;A,&amp;B,&amp;C,&amp;D,&amp;E,&amp;F,&amp;G,&amp;H); printf(&#34;%d&#34;, area(A,B,C,D,E,F,G,H)); return 0; } // 思路:容斥原理;计算重叠区域面积可以分解为两个一维问题 #include &lt;stdio.h&gt; #include &lt;math.h&gt; int main() { int A,B,C,D,E,F,G,H; scanf(&#34;%d %d %d %d %d %d %d %d&#34;,&amp;A,&amp;B,&amp;C,&amp;D,&amp;E,&amp;F,&amp;G,&amp;H); int s1,s2,s3,h,l; s1 = (C - A) * (D - B); s2 = (G - E) * (H - F); h = min(D, H) - max(B, F); l = min(C, G) - max(A, E); if((h &gt; 0)&amp;(l&gt;0)) s3 = h * l; else s3 = 0; printf(&#34;%d&#34;, s1 &#43; s2 - s3); return 0; } int max(int a, int b) { if(a&gt;b) return a; return b; } int min(int a, int b) { if(a&lt;b) return a; return b; } 和最大子序列 // 思路: 暴力枚举 #include&lt;stdio.h&gt; #include&lt;stdlib.h&gt; int add(int *A,int i,int j){ int s=0; for(;i&lt;=j;i&#43;&#43;){ s&#43;=A[i]; } return s; } int maxsum(int *A, int len){ int i,j,sum=0,maxsum=-1000000; for(i=0;i&lt;len;i&#43;&#43;){ for(int j=i;j&lt;len;j&#43;&#43;){ sum=add(A,i,j); if(sum&gt;maxsum)maxsum=sum; } } return maxsum; } int main(){ int n,*A,k; scanf(&#34;%d&#34;,&amp;n); A=(int *)malloc(n*sizeof(int)); for(k=0;k&lt;n;k&#43;&#43;)scanf(&#34;%d&#34;,&amp;A[k]); printf(&#34;%d&#34;,maxsum(A,n)); free(A); return 0; } #include &lt;stdio.h&gt; #include &lt;stdlib.h&gt; const int INF = -2100000000; int maxsum(int * A, int n) { int thissum = 0, maxm = INF; for(int i = 0; i &lt; n; &#43;&#43;i) { thissum &#43;= A[i]; if(thissum &gt; maxm) { maxm = thissum; } if(thissum &lt; 0) //有技巧地断开子序列 { thissum = 0; } } return maxm; } 最小操作数 // 思路:递归 #include &lt;stdio.h&gt; #include &lt;stdlib.h&gt; int Calc(int x,int y) { if(x&gt;=y) { return x-y; } else if(y%2==0) { return Calc(x,y/2)&#43;1; } else if(y%2==1) { return Calc(x,y&#43;1)&#43;1; } } int main() { int x,y; scanf(&#34;%d%d&#34;,&amp;x,&amp;y); printf(&#34;%d&#34;,Calc(x,y)); return 0; } // 思路: 做标记(广度优先搜索) #include &lt;stdio.h&gt; int flag[2000]; int Calc(int x, int y) { if(x&gt;=y) return x-y; //x&lt;y int N=1&#43;y; for(int i=0;i&lt;N;i&#43;&#43;) { flag[i]=-1; } flag[x-1]=0; int n=0; while(flag[y-1]==-1) { for(int i=0;i&lt;N;i&#43;&#43;) { if(flag[i]==n) { if(i-1&gt;=0&amp;&amp;flag[i-1]==-1) flag[i-1]=n&#43;1; if(2*i&#43;1&lt;N&amp;flag[2*i&#43;1]==-1) flag[2*i&#43;1]=n&#43;1; } } n=n&#43;1; } return flag[y-1]; } 二进制补码 //思路: 模拟补码计算过程 #include &lt;stdio.h&gt; int bit[32]={0}; void to_complement(int n, int bits) { int tmp=n; if(n&lt;0) { tmp=-1*tmp; } // Convert to binary for(int i=0;i&lt;bits-1;i&#43;&#43;) { if(tmp%2==1) { bit[i]=1; } tmp=tmp/2; } if(tmp!=0) { printf(&#34;%d is out of the range of representation with %d bits!\n&#34;,n,bits); return; } if(n&lt;0) { // convert for(int i=0;i&lt;bits;i&#43;&#43;) { if(bit[i]==0) bit[i]=1; else bit[i]=0; } // &#43;1 for(int i=0;i&lt;bits;i&#43;&#43;) { if(bit[i]==1) bit[i]=0; else { bit[i]=1; break; } } } // Output for(int i=bits-1;i&gt;=0;i--) printf(&#34;%d&#34;,bit[i]); printf(&#34;\n&#34;); } int main() { int n, bits; scanf(&#34;%d %d&#34;,&amp;n,&amp;bits); to_complement(n,bits); return 0; } 字符串比较 // 思路：递归 #include &lt;stdio.h&gt; #include &lt;string.h&gt; int isMatch(const char *p, const char *s) { int n, m; n=strlen(p); m=strlen(s); if(n==1) { if(*p==&#39;*&#39;) return 1; if(*p==&#39;?&#39;) return m==1?1:0; return m==1&amp;&amp;*p==*s; } if(*p==&#39;*&#39;) { int i; for(i=0;i&lt;m;i&#43;&#43;) { if(isMatch(p&#43;1, s&#43;i)) return 1; } return 0; } if(*p==&#39;?&#39;) return isMatch(p&#43;1, s&#43;1); return *p==*s&amp;&amp;isMatch(p&#43;1, s&#43;1); } 文件读写 Ｃ语言中的文件读写，本质上和对标准输入输出的读和写相同. 文件读写最显著的特征是在于需要 使用文件指针，来具体指明读写的文件．
" />
<meta name="twitter:site" content="http://localhost:1313/" />
<meta name="twitter:creator" content="" />
<meta name="twitter:image"
  content="http://localhost:1313/">


<meta property="og:type" content="article" />
<meta property="og:title" content=" - Caiyou Yuan&#39;s Pages">
<meta property="og:description"
  content="计算概论（C语言）习题课讲义11 内容概要 机考题目讲解
文件操作
习题讲解
机考题目讲解 矩形面积 // 想法: 逐个情况判断 #include &lt;stdio.h&gt; int recArea(int ldx, int ldy, int rux, int ruy) { return (rux-ldx)*(ruy-ldy); } int area(int A, int B, int C, int D, int E, int F, int G, int H) { int AREA=recArea(A,B,C,D)&#43;recArea(E,F,G,H); if(A&lt;=E) { if(C&lt;=E) return AREA; if(B&gt;=F) { if(B&gt;=H) return AREA; if(D&lt;H) return AREA-recArea(E,B,C,D); return AREA-recArea(E,B,C,H); } if(D&lt;F) return AREA; if(D&lt;H) return AREA-recArea(E,F,C,D); return AREA-recArea(E,F,C,H); } return area(E,F,G,H,A,B,C,D); } int main() { int A,B,C,D,E,F,G,H; scanf(&#34;%d %d %d %d %d %d %d %d&#34;, &amp;A,&amp;B,&amp;C,&amp;D,&amp;E,&amp;F,&amp;G,&amp;H); printf(&#34;%d&#34;, area(A,B,C,D,E,F,G,H)); return 0; } // 思路:容斥原理;计算重叠区域面积可以分解为两个一维问题 #include &lt;stdio.h&gt; #include &lt;math.h&gt; int main() { int A,B,C,D,E,F,G,H; scanf(&#34;%d %d %d %d %d %d %d %d&#34;,&amp;A,&amp;B,&amp;C,&amp;D,&amp;E,&amp;F,&amp;G,&amp;H); int s1,s2,s3,h,l; s1 = (C - A) * (D - B); s2 = (G - E) * (H - F); h = min(D, H) - max(B, F); l = min(C, G) - max(A, E); if((h &gt; 0)&amp;(l&gt;0)) s3 = h * l; else s3 = 0; printf(&#34;%d&#34;, s1 &#43; s2 - s3); return 0; } int max(int a, int b) { if(a&gt;b) return a; return b; } int min(int a, int b) { if(a&lt;b) return a; return b; } 和最大子序列 // 思路: 暴力枚举 #include&lt;stdio.h&gt; #include&lt;stdlib.h&gt; int add(int *A,int i,int j){ int s=0; for(;i&lt;=j;i&#43;&#43;){ s&#43;=A[i]; } return s; } int maxsum(int *A, int len){ int i,j,sum=0,maxsum=-1000000; for(i=0;i&lt;len;i&#43;&#43;){ for(int j=i;j&lt;len;j&#43;&#43;){ sum=add(A,i,j); if(sum&gt;maxsum)maxsum=sum; } } return maxsum; } int main(){ int n,*A,k; scanf(&#34;%d&#34;,&amp;n); A=(int *)malloc(n*sizeof(int)); for(k=0;k&lt;n;k&#43;&#43;)scanf(&#34;%d&#34;,&amp;A[k]); printf(&#34;%d&#34;,maxsum(A,n)); free(A); return 0; } #include &lt;stdio.h&gt; #include &lt;stdlib.h&gt; const int INF = -2100000000; int maxsum(int * A, int n) { int thissum = 0, maxm = INF; for(int i = 0; i &lt; n; &#43;&#43;i) { thissum &#43;= A[i]; if(thissum &gt; maxm) { maxm = thissum; } if(thissum &lt; 0) //有技巧地断开子序列 { thissum = 0; } } return maxm; } 最小操作数 // 思路:递归 #include &lt;stdio.h&gt; #include &lt;stdlib.h&gt; int Calc(int x,int y) { if(x&gt;=y) { return x-y; } else if(y%2==0) { return Calc(x,y/2)&#43;1; } else if(y%2==1) { return Calc(x,y&#43;1)&#43;1; } } int main() { int x,y; scanf(&#34;%d%d&#34;,&amp;x,&amp;y); printf(&#34;%d&#34;,Calc(x,y)); return 0; } // 思路: 做标记(广度优先搜索) #include &lt;stdio.h&gt; int flag[2000]; int Calc(int x, int y) { if(x&gt;=y) return x-y; //x&lt;y int N=1&#43;y; for(int i=0;i&lt;N;i&#43;&#43;) { flag[i]=-1; } flag[x-1]=0; int n=0; while(flag[y-1]==-1) { for(int i=0;i&lt;N;i&#43;&#43;) { if(flag[i]==n) { if(i-1&gt;=0&amp;&amp;flag[i-1]==-1) flag[i-1]=n&#43;1; if(2*i&#43;1&lt;N&amp;flag[2*i&#43;1]==-1) flag[2*i&#43;1]=n&#43;1; } } n=n&#43;1; } return flag[y-1]; } 二进制补码 //思路: 模拟补码计算过程 #include &lt;stdio.h&gt; int bit[32]={0}; void to_complement(int n, int bits) { int tmp=n; if(n&lt;0) { tmp=-1*tmp; } // Convert to binary for(int i=0;i&lt;bits-1;i&#43;&#43;) { if(tmp%2==1) { bit[i]=1; } tmp=tmp/2; } if(tmp!=0) { printf(&#34;%d is out of the range of representation with %d bits!\n&#34;,n,bits); return; } if(n&lt;0) { // convert for(int i=0;i&lt;bits;i&#43;&#43;) { if(bit[i]==0) bit[i]=1; else bit[i]=0; } // &#43;1 for(int i=0;i&lt;bits;i&#43;&#43;) { if(bit[i]==1) bit[i]=0; else { bit[i]=1; break; } } } // Output for(int i=bits-1;i&gt;=0;i--) printf(&#34;%d&#34;,bit[i]); printf(&#34;\n&#34;); } int main() { int n, bits; scanf(&#34;%d %d&#34;,&amp;n,&amp;bits); to_complement(n,bits); return 0; } 字符串比较 // 思路：递归 #include &lt;stdio.h&gt; #include &lt;string.h&gt; int isMatch(const char *p, const char *s) { int n, m; n=strlen(p); m=strlen(s); if(n==1) { if(*p==&#39;*&#39;) return 1; if(*p==&#39;?&#39;) return m==1?1:0; return m==1&amp;&amp;*p==*s; } if(*p==&#39;*&#39;) { int i; for(i=0;i&lt;m;i&#43;&#43;) { if(isMatch(p&#43;1, s&#43;i)) return 1; } return 0; } if(*p==&#39;?&#39;) return isMatch(p&#43;1, s&#43;1); return *p==*s&amp;&amp;isMatch(p&#43;1, s&#43;1); } 文件读写 Ｃ语言中的文件读写，本质上和对标准输入输出的读和写相同. 文件读写最显著的特征是在于需要 使用文件指针，来具体指明读写的文件．
" />
<meta property="og:url" content="http://localhost:1313/c_programming/11/11/" />
<meta property="og:site_name" content="" />
<meta property="og:image"
  content="http://localhost:1313/">
<meta property="og:image:width" content="2048">
<meta property="og:image:height" content="1024">











</head>


<body>
  <div style="position: relative">
  <header class="Header js-details-container Details px-3 px-md-4 px-lg-5 flex-wrap flex-md-nowrap open Details--on">
    <div class="Header-item mobile-none" style="margin-top: -4px; margin-bottom: -4px;">
      <a class="Header-link" href="http://localhost:1313/">
        <img class="octicon" height="32" width="32" src="/yuan_cartoon.jpg">
      </a>
    </div>
    <div class="Header-item d-md-none">
      <button class="Header-link btn-link js-details-target" type="button"
        onclick="document.querySelector('#header-search').style.display = document.querySelector('#header-search').style.display == 'none'? 'block': 'none'">
        <svg height="24" class="octicon octicon-three-bars" viewBox="0 0 16 16" version="1.1" width="24">
          <path fill-rule="evenodd" d="M1 2.75A.75.75 0 011.75 2h12.5a.75.75 0 110 1.5H1.75A.75.75 0 011 2.75zm0 5A.75.75 0 011.75 7h12.5a.75.75 0 110 1.5H1.75A.75.75 0 011 7.75zM1.75 12a.75.75 0 100 1.5h12.5a.75.75 0 100-1.5H1.75z">
          </path>
        </svg>
      </button>
    </div>
    <div style="display: none;" id="header-search"
      class="Header-item Header-item--full flex-column flex-md-row width-full flex-order-2 flex-md-order-none mr-0 mr-md-3 mt-3 mt-md-0 Details-content--hidden-not-important d-md-flex">
      <div
        class="Header-search header-search flex-auto js-site-search position-relative flex-self-stretch flex-md-self-auto mb-3 mb-md-0 mr-0 mr-md-3 scoped-search site-scoped-search js-jump-to">
        <div class="position-relative">
          
          <form target="_blank" action="https://www.google.com/search" accept-charset="UTF-8" method="get"
            autocomplete="off">
            <label
              class="Header-search-label form-control input-sm header-search-wrapper p-0 js-chromeless-input-container header-search-wrapper-jump-to position-relative d-flex flex-justify-between flex-items-center">
              <input type="text"
                class="Header-search-input form-control input-sm header-search-input jump-to-field js-jump-to-field js-site-search-focus js-site-search-field is-clearable"
                name="q" value="" placeholder="Search" autocomplete="off">
              <input type="hidden" name="q" value="site:http://localhost:1313/">
            </label>
          </form>
          
        </div>
      </div>
    </div>

    <div class="Header-item Header-item--full flex-justify-center d-md-none position-relative">
      <a class="Header-link " href="http://localhost:1313/">
        <img class="octicon octicon-mark-github v-align-middle" height="32" width="32" src="/yuan_cartoon.jpg">
      </a>
    </div>
    <div class="Header-item" style="margin-right: 0;">
      <a href="javascript:void(0)" class="Header-link no-select" onclick="switchTheme()">
        <svg style="fill: var(--color-profile-color-modes-toggle-moon);" class="no-select" viewBox="0 0 16 16"
          version="1.1" width="16" height="16">
          <path fill-rule="evenodd" clip-rule="evenodd"
            d="M4.52208 7.71754C7.5782 7.71754 10.0557 5.24006 10.0557 2.18394C10.0557 1.93498 10.0392 1.68986 10.0074 1.44961C9.95801 1.07727 10.3495 0.771159 10.6474 0.99992C12.1153 2.12716 13.0615 3.89999 13.0615 5.89383C13.0615 9.29958 10.3006 12.0605 6.89485 12.0605C3.95334 12.0605 1.49286 10.001 0.876728 7.24527C0.794841 6.87902 1.23668 6.65289 1.55321 6.85451C2.41106 7.40095 3.4296 7.71754 4.52208 7.71754Z">
          </path>
        </svg>
      </a>
    </div>
  </header>
</div>

  <div id="search-result" class="container-lg px-3 new-discussion-timeline" style="display: none;">
</div>

  
<div class="application-main">
  <div>
  <main>
    <div class="gisthead pagehead bg-gray-light pb-0 pt-3 mb-4">
      <div class="px-0">
        <div class="mb-3 d-flex px-3 px-md-3 px-lg-5">
          <div class="flex-auto min-width-0 width-fit mr-3">
            <div class="d-flex">
              <div class="d-none d-md-block">
                <a class="avatar mr-2 flex-shrink-0" href="http://localhost:1313/">
                  <img class=" avatar-user"
                    src="/yuan.png"
                    width="32" height="32"></a>
              </div>
              <div class="d-flex flex-column">
                <h1 class="break-word f3 text-normal mb-md-0 mb-1">
                  <span class="author">
                    <a href="http://localhost:1313/">Caiyou Yuan</a>
                  </span>
                  <span class="path-divider">/</span>
                  <strong class="css-truncate css-truncate-target mr-1" style="max-width: 410px">
                    <a href="http://localhost:1313/c_programming/11/11/"></a>
                  </strong>
                </h1>
                <div class="note m-0">
                  Created <relative-time datetime="Mon, 01 Jan 0001 00:00:00 &#43;0000"
                    class="no-wrap">
                    Mon, 01 Jan 0001 00:00:00 &#43;0000</relative-time>

                  
                  <span class="file-info-divider"></span>
                  Modified <relative-time datetime="Mon, 24 Nov 2025 16:53:32 &#43;0800"
                    class="no-wrap">
                    Mon, 24 Nov 2025 16:53:32 &#43;0800</relative-time>
                  
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="container-lg px-3 new-discussion-timeline">
      <div class="repository-content gist-content">
        <div>
          <div class="js-gist-file-update-container js-task-list-container file-box">
            <div id="file-pytest" class="file my-2">
              <div id="post-header" class="file-header d-flex flex-md-items-center flex-items-start sticky-header" style="z-index: 2">
                <div class="file-info d-flex flex-md-items-center flex-items-start flex-order-1 flex-auto">
                  <div class="text-mono f6 flex-auto pr-3 flex-order-2 flex-md-order-1 mt-2 mt-md-0">
                    
                    <summary id="toc-toggle" onclick="clickToc()" class="btn btn-octicon m-0 mr-2 p-2">
                      <svg aria-hidden="true" viewBox="0 0 16 16" height="16" width="16" class="octicon octicon-list-unordered">
                        <path fill-rule="evenodd" d="M2 4a1 1 0 100-2 1 1 0 000 2zm3.75-1.5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zm0 5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zm0 5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zM3 8a1 1 0 11-2 0 1 1 0 012 0zm-1 6a1 1 0 100-2 1 1 0 000 2z"></path>
                      </svg>
                    </summary>
                    <details-menu class="SelectMenu" id="toc-details" style="display: none;">
                      <div class="SelectMenu-modal rounded-3 mt-1" style="max-height: 340px;">
                        <div class="SelectMenu-list SelectMenu-list--borderless p-2" style="overscroll-behavior: contain;" id="toc-list">
                        </div>
                      </div>
                    </details-menu>
                      1436 Words
                    

                  </div>
                  <div class="file-actions flex-order-2 pt-0">
                    
                  </div>
                </div>
              </div>


              <div class="Box-body px-5 pb-5" style="z-index: 1">
                <article class="markdown-body entry-content container-lg"><h1 id="计算概论c语言习题课讲义11">计算概论（C语言）习题课讲义11</h1>
<h2 id="内容概要">内容概要</h2>
<ul>
<li>
<p>机考题目讲解</p>
</li>
<li>
<p>文件操作</p>
</li>
<li>
<p>习题讲解</p>
</li>
</ul>
<h3 id="机考题目讲解">机考题目讲解</h3>
<h4 id="矩形面积">矩形面积</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">// 想法: 逐个情况判断
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">recArea</span>(<span style="color:#66d9ef">int</span> ldx, <span style="color:#66d9ef">int</span> ldy, <span style="color:#66d9ef">int</span> rux, <span style="color:#66d9ef">int</span> ruy)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> (rux<span style="color:#f92672">-</span>ldx)<span style="color:#f92672">*</span>(ruy<span style="color:#f92672">-</span>ldy);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">area</span>(<span style="color:#66d9ef">int</span> A, <span style="color:#66d9ef">int</span> B, <span style="color:#66d9ef">int</span> C, <span style="color:#66d9ef">int</span> D, <span style="color:#66d9ef">int</span> E, <span style="color:#66d9ef">int</span> F, <span style="color:#66d9ef">int</span> G, <span style="color:#66d9ef">int</span> H)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> AREA<span style="color:#f92672">=</span><span style="color:#a6e22e">recArea</span>(A,B,C,D)<span style="color:#f92672">+</span><span style="color:#a6e22e">recArea</span>(E,F,G,H);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(A<span style="color:#f92672">&lt;=</span>E)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(C<span style="color:#f92672">&lt;=</span>E)
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> AREA;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(B<span style="color:#f92672">&gt;=</span>F)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span>(B<span style="color:#f92672">&gt;=</span>H)
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">return</span> AREA;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span>(D<span style="color:#f92672">&lt;</span>H)
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">return</span> AREA<span style="color:#f92672">-</span><span style="color:#a6e22e">recArea</span>(E,B,C,D);
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> AREA<span style="color:#f92672">-</span><span style="color:#a6e22e">recArea</span>(E,B,C,H);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(D<span style="color:#f92672">&lt;</span>F)
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> AREA;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(D<span style="color:#f92672">&lt;</span>H)
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> AREA<span style="color:#f92672">-</span><span style="color:#a6e22e">recArea</span>(E,F,C,D);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> AREA<span style="color:#f92672">-</span><span style="color:#a6e22e">recArea</span>(E,F,C,H);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">area</span>(E,F,G,H,A,B,C,D);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> A,B,C,D,E,F,G,H;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">scanf</span>(<span style="color:#e6db74">&#34;%d %d %d %d %d %d %d %d&#34;</span>, <span style="color:#f92672">&amp;</span>A,<span style="color:#f92672">&amp;</span>B,<span style="color:#f92672">&amp;</span>C,<span style="color:#f92672">&amp;</span>D,<span style="color:#f92672">&amp;</span>E,<span style="color:#f92672">&amp;</span>F,<span style="color:#f92672">&amp;</span>G,<span style="color:#f92672">&amp;</span>H);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d&#34;</span>, <span style="color:#a6e22e">area</span>(A,B,C,D,E,F,G,H));
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">// 思路:容斥原理;计算重叠区域面积可以分解为两个一维问题
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;math.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> A,B,C,D,E,F,G,H;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">scanf</span>(<span style="color:#e6db74">&#34;%d %d %d %d %d %d %d %d&#34;</span>,<span style="color:#f92672">&amp;</span>A,<span style="color:#f92672">&amp;</span>B,<span style="color:#f92672">&amp;</span>C,<span style="color:#f92672">&amp;</span>D,<span style="color:#f92672">&amp;</span>E,<span style="color:#f92672">&amp;</span>F,<span style="color:#f92672">&amp;</span>G,<span style="color:#f92672">&amp;</span>H);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> s1,s2,s3,h,l;
</span></span><span style="display:flex;"><span>    s1 <span style="color:#f92672">=</span> (C <span style="color:#f92672">-</span> A) <span style="color:#f92672">*</span> (D <span style="color:#f92672">-</span> B);
</span></span><span style="display:flex;"><span>    s2 <span style="color:#f92672">=</span> (G <span style="color:#f92672">-</span> E) <span style="color:#f92672">*</span> (H <span style="color:#f92672">-</span> F);
</span></span><span style="display:flex;"><span>    h <span style="color:#f92672">=</span> <span style="color:#a6e22e">min</span>(D, H) <span style="color:#f92672">-</span> <span style="color:#a6e22e">max</span>(B, F);
</span></span><span style="display:flex;"><span>    l <span style="color:#f92672">=</span> <span style="color:#a6e22e">min</span>(C, G) <span style="color:#f92672">-</span> <span style="color:#a6e22e">max</span>(A, E);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>((h <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>)<span style="color:#f92672">&amp;</span>(l<span style="color:#f92672">&gt;</span><span style="color:#ae81ff">0</span>))
</span></span><span style="display:flex;"><span>        s3 <span style="color:#f92672">=</span> h <span style="color:#f92672">*</span> l;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>        s3 <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d&#34;</span>, s1 <span style="color:#f92672">+</span> s2 <span style="color:#f92672">-</span> s3);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">max</span>(<span style="color:#66d9ef">int</span> a, <span style="color:#66d9ef">int</span> b)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(a<span style="color:#f92672">&gt;</span>b)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> a;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> b;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">min</span>(<span style="color:#66d9ef">int</span> a, <span style="color:#66d9ef">int</span> b)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(a<span style="color:#f92672">&lt;</span>b)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> a;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> b;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h4 id="和最大子序列">和最大子序列</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">// 思路: 暴力枚举
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">add</span>(<span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>A,<span style="color:#66d9ef">int</span> i,<span style="color:#66d9ef">int</span> j){
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> s<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(;i<span style="color:#f92672">&lt;=</span>j;i<span style="color:#f92672">++</span>){
</span></span><span style="display:flex;"><span>        s<span style="color:#f92672">+=</span>A[i];
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> s;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">maxsum</span>(<span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>A, <span style="color:#66d9ef">int</span> len){
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i,j,sum<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>,maxsum<span style="color:#f92672">=-</span><span style="color:#ae81ff">1000000</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span>len;i<span style="color:#f92672">++</span>){
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> j<span style="color:#f92672">=</span>i;j<span style="color:#f92672">&lt;</span>len;j<span style="color:#f92672">++</span>){
</span></span><span style="display:flex;"><span>            sum<span style="color:#f92672">=</span><span style="color:#a6e22e">add</span>(A,i,j);
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span>(sum<span style="color:#f92672">&gt;</span>maxsum)maxsum<span style="color:#f92672">=</span>sum;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> maxsum;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>(){
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> n,<span style="color:#f92672">*</span>A,k;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">scanf</span>(<span style="color:#e6db74">&#34;%d&#34;</span>,<span style="color:#f92672">&amp;</span>n);
</span></span><span style="display:flex;"><span>    A<span style="color:#f92672">=</span>(<span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>)<span style="color:#a6e22e">malloc</span>(n<span style="color:#f92672">*</span><span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">int</span>));
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(k<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;k<span style="color:#f92672">&lt;</span>n;k<span style="color:#f92672">++</span>)<span style="color:#a6e22e">scanf</span>(<span style="color:#e6db74">&#34;%d&#34;</span>,<span style="color:#f92672">&amp;</span>A[k]);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d&#34;</span>,<span style="color:#a6e22e">maxsum</span>(A,n));
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">free</span>(A);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#66d9ef">int</span> INF <span style="color:#f92672">=</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">2100000000</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">maxsum</span>(<span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span> A, <span style="color:#66d9ef">int</span> n)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> thissum <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>, maxm <span style="color:#f92672">=</span> INF;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> n; <span style="color:#f92672">++</span>i)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        thissum <span style="color:#f92672">+=</span> A[i];
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(thissum <span style="color:#f92672">&gt;</span> maxm)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            maxm <span style="color:#f92672">=</span> thissum;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(thissum <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">0</span>) <span style="color:#75715e">//有技巧地断开子序列
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        {
</span></span><span style="display:flex;"><span>            thissum <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> maxm;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h4 id="最小操作数">最小操作数</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">// 思路:递归
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">Calc</span>(<span style="color:#66d9ef">int</span> x,<span style="color:#66d9ef">int</span> y)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(x<span style="color:#f92672">&gt;=</span>y)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> x<span style="color:#f92672">-</span>y;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span>(y<span style="color:#f92672">%</span><span style="color:#ae81ff">2</span><span style="color:#f92672">==</span><span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">Calc</span>(x,y<span style="color:#f92672">/</span><span style="color:#ae81ff">2</span>)<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span>(y<span style="color:#f92672">%</span><span style="color:#ae81ff">2</span><span style="color:#f92672">==</span><span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">Calc</span>(x,y<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>)<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> x,y;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">scanf</span>(<span style="color:#e6db74">&#34;%d%d&#34;</span>,<span style="color:#f92672">&amp;</span>x,<span style="color:#f92672">&amp;</span>y);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d&#34;</span>,<span style="color:#a6e22e">Calc</span>(x,y));
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">// 思路: 做标记(广度优先搜索)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> flag[<span style="color:#ae81ff">2000</span>];
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">Calc</span>(<span style="color:#66d9ef">int</span> x, <span style="color:#66d9ef">int</span> y)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(x<span style="color:#f92672">&gt;=</span>y)
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">return</span> x<span style="color:#f92672">-</span>y;
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//x&lt;y
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">int</span> N<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span><span style="color:#f92672">+</span>y;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span>N;i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>                flag[i]<span style="color:#f92672">=-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        flag[x<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>]<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> n<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">while</span>(flag[y<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>]<span style="color:#f92672">==-</span><span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span>N;i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                        <span style="color:#66d9ef">if</span>(flag[i]<span style="color:#f92672">==</span>n)
</span></span><span style="display:flex;"><span>                        {
</span></span><span style="display:flex;"><span>                                <span style="color:#66d9ef">if</span>(i<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span><span style="color:#f92672">&gt;=</span><span style="color:#ae81ff">0</span><span style="color:#f92672">&amp;&amp;</span>flag[i<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>]<span style="color:#f92672">==-</span><span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>                                        flag[i<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>]<span style="color:#f92672">=</span>n<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>                                <span style="color:#66d9ef">if</span>(<span style="color:#ae81ff">2</span><span style="color:#f92672">*</span>i<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span><span style="color:#f92672">&lt;</span>N<span style="color:#f92672">&amp;</span>flag[<span style="color:#ae81ff">2</span><span style="color:#f92672">*</span>i<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>]<span style="color:#f92672">==-</span><span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>                                        flag[<span style="color:#ae81ff">2</span><span style="color:#f92672">*</span>i<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>]<span style="color:#f92672">=</span>n<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>                        }
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>                n<span style="color:#f92672">=</span>n<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> flag[y<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>];
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h4 id="二进制补码">二进制补码</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">//思路: 模拟补码计算过程
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> bit[<span style="color:#ae81ff">32</span>]<span style="color:#f92672">=</span>{<span style="color:#ae81ff">0</span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">to_complement</span>(<span style="color:#66d9ef">int</span> n, <span style="color:#66d9ef">int</span> bits)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> tmp<span style="color:#f92672">=</span>n;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(n<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>                tmp<span style="color:#f92672">=-</span><span style="color:#ae81ff">1</span><span style="color:#f92672">*</span>tmp;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Convert to binary
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span>bits<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">if</span>(tmp<span style="color:#f92672">%</span><span style="color:#ae81ff">2</span><span style="color:#f92672">==</span><span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                        bit[i]<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>                tmp<span style="color:#f92672">=</span>tmp<span style="color:#f92672">/</span><span style="color:#ae81ff">2</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(tmp<span style="color:#f92672">!=</span><span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d is out of the range of representation with %d bits!</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,n,bits);
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(n<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>                <span style="color:#75715e">// convert
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span>bits;i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                        <span style="color:#66d9ef">if</span>(bit[i]<span style="color:#f92672">==</span><span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>                                bit[i]<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>                        <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>                                bit[i]<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>                <span style="color:#75715e">// +1
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span>bits;i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                        <span style="color:#66d9ef">if</span>(bit[i]<span style="color:#f92672">==</span><span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>                                bit[i]<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>                        <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>                        {
</span></span><span style="display:flex;"><span>                                bit[i]<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>                                <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>                        }
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Output
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span>bits<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;i<span style="color:#f92672">&gt;=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">--</span>)
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d&#34;</span>,bit[i]);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> n, bits;
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">scanf</span>(<span style="color:#e6db74">&#34;%d %d&#34;</span>,<span style="color:#f92672">&amp;</span>n,<span style="color:#f92672">&amp;</span>bits);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">to_complement</span>(n,bits);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h4 id="字符串比较">字符串比较</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">// 思路：递归
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;string.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">isMatch</span>(<span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>p, <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>s)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> n, m;
</span></span><span style="display:flex;"><span>    n<span style="color:#f92672">=</span><span style="color:#a6e22e">strlen</span>(p);
</span></span><span style="display:flex;"><span>    m<span style="color:#f92672">=</span><span style="color:#a6e22e">strlen</span>(s);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(n<span style="color:#f92672">==</span><span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(<span style="color:#f92672">*</span>p<span style="color:#f92672">==</span><span style="color:#e6db74">&#39;*&#39;</span>)
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(<span style="color:#f92672">*</span>p<span style="color:#f92672">==</span><span style="color:#e6db74">&#39;?&#39;</span>)
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> m<span style="color:#f92672">==</span><span style="color:#ae81ff">1</span><span style="color:#f92672">?</span><span style="color:#ae81ff">1</span><span style="color:#f92672">:</span><span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> m<span style="color:#f92672">==</span><span style="color:#ae81ff">1</span><span style="color:#f92672">&amp;&amp;*</span>p<span style="color:#f92672">==*</span>s;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(<span style="color:#f92672">*</span>p<span style="color:#f92672">==</span><span style="color:#e6db74">&#39;*&#39;</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> i;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span>m;i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span>(<span style="color:#a6e22e">isMatch</span>(p<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>, s<span style="color:#f92672">+</span>i))
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(<span style="color:#f92672">*</span>p<span style="color:#f92672">==</span><span style="color:#e6db74">&#39;?&#39;</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">isMatch</span>(p<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>, s<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#f92672">*</span>p<span style="color:#f92672">==*</span>s<span style="color:#f92672">&amp;&amp;</span><span style="color:#a6e22e">isMatch</span>(p<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>, s<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="文件读写">文件读写</h3>
<p>Ｃ语言中的文件读写，本质上和对标准输入输出的读和写相同.
文件读写最显著的特征是在于需要
使用文件指针，来具体指明读写的文件．</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">// 打开文件
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>FILE <span style="color:#f92672">*</span><span style="color:#a6e22e">fopen</span>( <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span> filename, <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span> mode );
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 关闭文件
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">fclose</span>( FILE <span style="color:#f92672">*</span>fp );
</span></span></code></pre></div><p>其中，文件操作模式有<code>r</code>,<code>w</code>,<code>a</code>,<code>+</code>, 即读/写/附加/更新.</p>
<p>文件的读写的常用函数为</p>
<ol>
<li>
<p><code>fscanf</code></p>
</li>
<li>
<p><code>fprintf</code></p>
</li>
</ol>
<p>用法和 <code>scanf</code> , <code>printf</code> 类似.
其他的文件读写函数, 例如 <code>fgetc</code>, <code>fgets</code>, 都可以在一定程度上都可以看作是<code>fscanf</code>函数的特例.</p>
<blockquote>
<p>注意: <code>fgets</code> 和 <code>fscanf(*,&quot;%s&quot;,*)</code> 的区别</p>
</blockquote>
<h4 id="其他常用的文件操作函数">其他常用的文件操作函数</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">feof</span>(FILE <span style="color:#f92672">*</span>st); <span style="color:#75715e">//判断是否到达文件末尾
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">fseek</span>(FILE <span style="color:#f92672">*</span>stream, <span style="color:#66d9ef">long</span> offset, <span style="color:#66d9ef">int</span> whence); <span style="color:#75715e">//移动文件指针的位置, 但参数有些复杂, 不常用
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">rewind</span>(FILE <span style="color:#f92672">*</span> st); <span style="color:#75715e">// 将文件指针移动到开头
</span></span></span></code></pre></div><h3 id="习题讲解">习题讲解</h3>
<h4 id="电费统计">电费统计</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;string.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">double</span> ssum<span style="color:#f92672">=</span><span style="color:#ae81ff">0.0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">crg</span>(FILE <span style="color:#f92672">*</span>fp){
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> name[<span style="color:#ae81ff">256</span>];
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">double</span> sum<span style="color:#f92672">=</span><span style="color:#ae81ff">0.0</span>,deg,upr;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span>(<span style="color:#a6e22e">fgets</span>(name,<span style="color:#ae81ff">256</span>,fp)<span style="color:#f92672">!=</span>NULL)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        sum<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">while</span>(<span style="color:#a6e22e">fscanf</span>(fp,<span style="color:#e6db74">&#34;%lf%lf&#34;</span>,<span style="color:#f92672">&amp;</span>deg,<span style="color:#f92672">&amp;</span>upr)<span style="color:#f92672">==</span><span style="color:#ae81ff">2</span>) <span style="color:#75715e">//不断统计
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            sum<span style="color:#f92672">+=</span>deg<span style="color:#f92672">*</span>upr;
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%s----------------------%.2f</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,name,sum);<span style="color:#75715e">//输出
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        ssum<span style="color:#f92672">+=</span>sum;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>(<span style="color:#66d9ef">int</span> argc,<span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>argv[]){
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> name[<span style="color:#ae81ff">256</span>];
</span></span><span style="display:flex;"><span>    FILE <span style="color:#f92672">*</span>fp;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span>(<span style="color:#ae81ff">1</span>){
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;File name (end-of-file to end):</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(<span style="color:#a6e22e">scanf</span>(<span style="color:#e6db74">&#34;%255s&#34;</span>,name)<span style="color:#f92672">==</span>EOF) <span style="color:#75715e">//处理结束
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;The total charge is %.2f.</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,ssum);
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>((fp<span style="color:#f92672">=</span><span style="color:#a6e22e">fopen</span>(name,<span style="color:#e6db74">&#34;r&#34;</span>))<span style="color:#f92672">==</span>NULL) <span style="color:#75715e">//打开失败
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            <span style="color:#a6e22e">fprintf</span>(stderr,<span style="color:#e6db74">&#34;Can&#39;t open file:</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">%s</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,name);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span> <span style="color:#75715e">//打开成功
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">crg</span>(fp);
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">fclose</span>(fp);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;Bye!</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h4 id="文件单词在单词表中行号的统计">文件单词在单词表中行号的统计</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;string.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">process</span>(FILE <span style="color:#f92672">*</span> fpr2, FILE <span style="color:#f92672">*</span> fpw, <span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span> word){
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> line[<span style="color:#ae81ff">200</span>]<span style="color:#f92672">=</span>{<span style="color:#ae81ff">0</span>};
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fprintf</span>(fpw, <span style="color:#e6db74">&#34;%s &#34;</span>, word);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">rewind</span>(fpr2); <span style="color:#75715e">// 必要的操作, 为什么?
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">for</span> (i <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>; <span style="color:#ae81ff">1</span>; i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">fgets</span>(line,<span style="color:#ae81ff">200</span>,fpr2)<span style="color:#f92672">==</span>NULL)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">strstr</span>(line,word)<span style="color:#f92672">!=</span>NULL)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">fprintf</span>(fpw,<span style="color:#e6db74">&#34;%d &#34;</span>, i);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fprintf</span>(fpw,<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>(<span style="color:#66d9ef">int</span> argc, <span style="color:#66d9ef">char</span> <span style="color:#66d9ef">const</span> <span style="color:#f92672">*</span>argv[])
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    FILE <span style="color:#f92672">*</span>fpr1, <span style="color:#f92672">*</span>fpr2, <span style="color:#f92672">*</span>fpw;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> word[<span style="color:#ae81ff">20</span>]<span style="color:#f92672">=</span>{<span style="color:#ae81ff">0</span>};
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> ((fpr1<span style="color:#f92672">=</span><span style="color:#a6e22e">fopen</span>(argv[<span style="color:#ae81ff">1</span>],<span style="color:#e6db74">&#34;r&#34;</span>))<span style="color:#f92672">==</span>NULL <span style="color:#f92672">||</span> (fpr2<span style="color:#f92672">=</span><span style="color:#a6e22e">fopen</span>(argv[<span style="color:#ae81ff">2</span>],<span style="color:#e6db74">&#34;r&#34;</span>))<span style="color:#f92672">==</span>NULL)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;Error!</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    fpw<span style="color:#f92672">=</span><span style="color:#a6e22e">fopen</span>(<span style="color:#e6db74">&#34;8write&#34;</span>,<span style="color:#e6db74">&#34;w&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> ((<span style="color:#a6e22e">fscanf</span>(fpr1,<span style="color:#e6db74">&#34;%s&#34;</span>,word))<span style="color:#f92672">==</span><span style="color:#ae81ff">1</span>) <span style="color:#75715e">//不断读入单词
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">process</span>(fpr2,fpw,word); <span style="color:#75715e">//进行处理
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fclose</span>(fpr1);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fclose</span>(fpr2);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fclose</span>(fpw);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>简单复习</p>
<p>第六章</p>
<ol>
<li>
<p>数组定义/声明/初始化的区别和联系.</p>
</li>
<li>
<p>二维数组初始化为<code>int a[2][3]={0,1,2,3,4,5};</code>, 那么 <code>a[0][2]</code>是?
<code>a[0][3]</code> 是? 这说明了什么?</p>
</li>
<li>
<p><code>int a[5]={0,1,2,3,4}</code> 所以 <code>sizeof(a)</code>多大呢? 和<code>sizeof(int)</code>有关么?</p>
</li>
</ol>
<p>第七章</p>
<ol>
<li>这样的操作可以么?</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">int</span><span style="color:#f92672">*</span> a;
</span></span><span style="display:flex;"><span><span style="color:#f92672">*</span>a <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>;
</span></span></code></pre></div><p>2.<code>b[3]</code>的操作合法么? 值为多少?</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> a[<span style="color:#ae81ff">4</span>]<span style="color:#f92672">=</span>{<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>};
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>b<span style="color:#f92672">=</span>a;
</span></span></code></pre></div><p>3.<code>sizeof(p1)</code>和<code>sizeof(p2)</code>,<code>sizeof(p3)</code>的关系是?</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>p1;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">double</span> <span style="color:#f92672">*</span>p2;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>p3;
</span></span></code></pre></div><p>4.<code>color[0][3]</code>的值为? <code>color[1][6]</code>的值? 定义中的<code>6</code> 可以去掉么?</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">char</span> color[][<span style="color:#ae81ff">6</span>]<span style="color:#f92672">=</span>{<span style="color:#e6db74">&#34;Red&#34;</span>,<span style="color:#e6db74">&#34;GREEN&#34;</span>,<span style="color:#e6db74">&#34;BLUE&#34;</span>};
</span></span></code></pre></div><p>5.解释<code>f</code>,<code>g</code>,<code>h</code>的含义: <code>int (*f)[8]</code> , <code>int (*g)(int)</code> , <code>char  *h[]</code>;</p>
</article>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>
</div>
<script type="application/javascript" src='http://localhost:1313/js/toc.js'></script>
<link rel="stylesheet" href='http://localhost:1313/css/toc.css' />

  
</div>

  <div class="footer container-xl width-full p-responsive">
  <div
    class="position-relative d-flex flex-row-reverse flex-lg-row flex-wrap flex-lg-nowrap flex-justify-center flex-lg-justify-between flex-sm-items-center pt-6 pb-2 mt-6 f6 text-gray border-top border-gray-light ">
    <a aria-label="Homepage" title="GitHub" class="footer-octicon d-none d-lg-block mr-lg-4" href="http://localhost:1313/">
      <svg height="24" class="octicon octicon-mark-github" viewBox="0 0 16 16" version="1.1" width="24">
        <path fill-rule="evenodd"
          d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z">
        </path>
      </svg>
    </a>
    <ul class="list-style-none d-flex flex-wrap col-12 flex-justify-center flex-lg-justify-between mb-2 mb-lg-0">
      
      <li class="mr-3 mr-lg-0">Theme by <a href='https://github.com/MeiK2333/github-style'>github-style</a></li>
      
      <li class="mr-3 mr-lg-0">GitHub and the Invertocat logo are trademarks of <a href="https://github.com/">GitHub, Inc.</a></li>
    </ul>
  </div>
  <div class="d-flex flex-justify-center pb-6">
    <span class="f6 text-gray-light"></span>
  </div>


</div>

</body>

<script type="application/javascript" src="http://localhost:1313/js/github-style.js"></script>







</html>